import React, { Component } from "react";
import { Scatter } from "react-chartjs-2";
// import { Line } from "react-chartjs-2";
import ChartAnnotationsPlugin from "chartjs-plugin-annotation";

class Chart extends Component {
  render() {
    // appx openingEnergy: kde obtained from PSI:Biology
    const data = {
      // labels: [
      //   0,
      //   0.67346939,
      //   1.34693878,
      //   2.02040816,
      //   2.69387755,
      //   3.36734694,
      //   4.04081633,
      //   4.71428571,
      //   5.3877551,
      //   6.06122449,
      //   6.73469388,
      //   7.40816327,
      //   8.08163265,
      //   8.75510204,
      //   9.42857143,
      //   10.10204082,
      //   10.7755102,
      //   11.44897959,
      //   12.12244898,
      //   12.79591837,
      //   13.46938776,
      //   14.14285714,
      //   14.81632653,
      //   15.48979592,
      //   16.16326531,
      //   16.83673469,
      //   17.51020408,
      //   18.18367347,
      //   18.85714286,
      //   19.53061224,
      //   20.20408163,
      //   20.87755102,
      //   21.55102041,
      //   22.2244898,
      //   22.89795918,
      //   23.57142857,
      //   24.24489796,
      //   24.91836735,
      //   25.59183673,
      //   26.26530612,
      //   26.93877551,
      //   27.6122449,
      //   28.28571429,
      //   28.95918367,
      //   29.63265306,
      //   30.30612245,
      //   30.97959184,
      //   31.65306122,
      //   32.32653061,
      //   33
      // ],
      labels: ['Step response'],
      datasets: [
        {
          label: "Step response",
          fill: false,
          // lineTension: 0.01,
          backgroundColor: "rgba(75,192,192,0.4)",
          borderColor: "#1f77b4",
          borderCapStyle: "butt",
          borderDash: [],
          borderDashOffset: 0.0,
          borderJoinStyle: "miter",
          pointBorderColor: "#1f77b4",
          pointBackgroundColor: "#fff",
          pointBorderWidth: 1,
          pointHoverRadius: 5,
          pointHoverBackgroundColor: "#1f77b4",
          pointHoverBorderColor: "rgba(220,220,220,1)'",
          pointHoverBorderWidth: 2,
          pointRadius: 1,
          pointHitRadius: 10,
          data: [
            {x:0.0, y:0.81},
            {x:0.18, y:0.81},
            {x:0.35, y:0.81},
            {x:0.53, y:0.81},
            {x:0.7, y:0.81},
            {x:0.88, y:0.81},
            {x:1.06, y:0.81},
            {x:1.23, y:0.81},
            {x:1.41, y:0.81},
            {x:1.58, y:0.81},
            {x:1.76, y:0.81},
            {x:1.93, y:0.81},
            {x:2.11, y:0.81},
            {x:2.29, y:0.81},
            {x:2.46, y:0.81},
            {x:2.64, y:0.81},
            {x:2.81, y:0.81},
            {x:2.99, y:0.81},
            {x:3.17, y:0.81},
            {x:3.34, y:0.81},
            {x:3.52, y:0.81},
            {x:3.69, y:0.81},
            {x:3.87, y:0.81},
            {x:4.05, y:0.81},
            {x:4.22, y:0.81},
            {x:4.4, y:0.81},
            {x:4.57, y:0.81},
            {x:4.75, y:0.81},
            {x:4.92, y:0.81},
            {x:5.1, y:0.81},
            {x:5.28, y:0.81},
            {x:5.45, y:0.81},
            {x:5.63, y:0.81},
            {x:5.8, y:0.81},
            {x:5.98, y:0.81},
            {x:6.16, y:0.81},
            {x:6.33, y:0.81},
            {x:6.51, y:0.81},
            {x:6.68, y:0.81},
            {x:6.86, y:0.81},
            {x:7.04, y:0.81},
            {x:7.21, y:0.81},
            {x:7.39, y:0.81},
            {x:7.56, y:0.81},
            {x:7.74, y:0.81},
            {x:7.91, y:0.81},
            {x:8.09, y:0.81},
            {x:8.27, y:0.82},
            {x:8.44, y:0.82},
            {x:8.62, y:0.82},
            {x:8.79, y:0.82},
            {x:8.97, y:0.82},
            {x:9.15, y:0.82},
            {x:9.32, y:0.82},
            {x:9.5, y:0.82},
            {x:9.67, y:0.82},
            {x:9.85, y:0.83},
            {x:10.03, y:0.83},
            {x:10.2, y:0.83},
            {x:10.38, y:0.83},
            {x:10.55, y:0.83},
            {x:10.73, y:0.84},
            {x:10.9, y:0.84},
            {x:11.08, y:0.84},
            {x:11.26, y:0.85},
            {x:11.43, y:0.85},
            {x:11.61, y:0.85},
            {x:11.78, y:0.86},
            {x:11.96, y:0.86},
            {x:12.14, y:0.86},
            {x:12.31, y:0.87},
            {x:12.49, y:0.87},
            {x:12.66, y:0.88},
            {x:12.84, y:0.88},
            {x:13.02, y:0.89},
            {x:13.19, y:0.89},
            {x:13.37, y:0.9},
            {x:13.54, y:0.9},
            {x:13.72, y:0.91},
            {x:13.89, y:0.91},
            {x:14.07, y:0.92},
            {x:14.25, y:0.92},
            {x:14.42, y:0.93},
            {x:14.6, y:0.93},
            {x:14.77, y:0.93},
            {x:14.95, y:0.94},
            {x:15.13, y:0.94},
            {x:15.3, y:0.94},
            {x:15.48, y:0.94},
            {x:15.65, y:0.93},
            {x:15.83, y:0.93},
            {x:16.01, y:0.92},
            {x:16.18, y:0.91},
            {x:16.36, y:0.9},
            {x:16.53, y:0.89},
            {x:16.71, y:0.87},
            {x:16.88, y:0.85},
            {x:17.06, y:0.82},
            {x:17.24, y:0.8},
            {x:17.41, y:0.77},
            {x:17.59, y:0.73},
            {x:17.76, y:0.7},
            {x:17.94, y:0.66},
            {x:18.12, y:0.63},
            {x:18.29, y:0.59},
            {x:18.47, y:0.55},
            {x:18.64, y:0.51},
            {x:18.82, y:0.47},
            {x:18.99, y:0.43},
            {x:19.17, y:0.39},
            {x:19.35, y:0.36},
            {x:19.52, y:0.33},
            {x:19.7, y:0.29},
            {x:19.87, y:0.26},
            {x:20.05, y:0.24},
            {x:20.23, y:0.21},
            {x:20.4, y:0.19},
            {x:20.58, y:0.17},
            {x:20.75, y:0.15},
            {x:20.93, y:0.13},
            {x:21.11, y:0.12},
            {x:21.28, y:0.1},
            {x:21.46, y:0.09},
            {x:21.63, y:0.08},
            {x:21.81, y:0.07},
            {x:21.98, y:0.06},
            {x:22.16, y:0.05},
            {x:22.34, y:0.05},
            {x:22.51, y:0.04},
            {x:22.69, y:0.04},
            {x:22.86, y:0.03},
            {x:23.04, y:0.03},
            {x:23.22, y:0.02},
            {x:23.39, y:0.02},
            {x:23.57, y:0.02},
            {x:23.74, y:0.02},
            {x:23.92, y:0.01},
            {x:24.1, y:0.01},
            {x:24.27, y:0.01},
            {x:24.45, y:0.01},
            {x:24.62, y:0.01},
            {x:24.8, y:0.01},
            {x:24.97, y:0.01},
            {x:25.15, y:0.01},
            {x:25.33, y:0.0},
            {x:25.5, y:0.0},
            {x:25.68, y:0.0},
            {x:25.85, y:0.0},
            {x:26.03, y:0.0},
            {x:26.21, y:0.0},
            {x:26.38, y:0.0},
            {x:26.56, y:0.0},
            {x:26.73, y:0.0},
            {x:26.91, y:0.0},
            {x:27.09, y:0.0},
            {x:27.26, y:0.0},
            {x:27.44, y:0.0},
            {x:27.61, y:0.0},
            {x:27.79, y:0.0},
            {x:27.96, y:0.0},
            {x:28.14, y:0.0},
            {x:28.32, y:0.0},
            {x:28.49, y:0.0},
            {x:28.67, y:0.0},
            {x:28.84, y:0.0},
            {x:29.02, y:0.0},
            {x:29.2, y:0.0},
            {x:29.37, y:0.0},
            {x:29.55, y:0.0},
            {x:29.72, y:0.0},
            {x:29.9, y:0.0},
            {x:30.08, y:0.0},
            {x:30.25, y:0.0},
            {x:30.43, y:0.0},
            {x:30.6, y:0.0},
            {x:30.78, y:0.0},
            {x:30.95, y:0.0},
            {x:31.13, y:0.0},
            {x:31.31, y:0.0},
            {x:31.48, y:0.0},
            {x:31.66, y:0.0},
            {x:31.83, y:0.0},
            {x:32.01, y:0.0},
            {x:32.19, y:0.0},
            {x:32.36, y:0.0},
            {x:32.54, y:0.0},
            {x:32.71, y:0.0},
            {x:32.89, y:0.0},
            {x:33.07, y:0.0},
            {x:33.24, y:0.0},
            {x:33.42, y:0.0},
            {x:33.59, y:0.0},
            {x:33.77, y:0.0},
            {x:33.94, y:0.0},
            {x:34.12, y:0.0},
            {x:34.3, y:0.0},
            {x:34.47, y:0.0},
            {x:34.65, y:0.0},
            {x:34.82, y:0.0},
            {x:35.0, y:0.0},
            
          ],
        },
        // {
        //   label: "Failure",
        //   fill: false,
        //   // lineTension: 0.01,
        //   backgroundColor: 'rgba(75,192,192,0.4)',
        //   borderColor: '#d62728',
        //   borderCapStyle: "butt",
        //   borderDash: [],
        //   borderDashOffset: 0.0,
        //   borderJoinStyle: "miter",
        //   pointBorderColor: "#d62728",
        //   pointBackgroundColor: "#fff",
        //   pointBorderWidth: 1,
        //   pointHoverRadius: 5,
        //   pointHoverBackgroundColor: "#d62728",
        //   pointHoverBorderColor: "rgba(220,220,220,1)",
        //   pointHoverBorderWidth: 2,
        //   pointRadius: 1,
        //   pointHitRadius: 10,
        //   data: [
        //     5.437758361148604e-6,
        //     5.437758361148604e-6,
        //     5.437758361148604e-6,
        //     5.397169299206176e-5,
        //     0.00032248749940829824,
        //     0.0012660911082912243,
        //     0.005280751012420593,
        //     0.009821077717552978,
        //     0.015469945304867552,
        //     0.023015782861449723,
        //     0.033982478828445295,
        //     0.048250752743149404,
        //     0.06741365641897708,
        //     0.07535156640619728,
        //     0.0834311789634686,
        //     0.09314100388060208,
        //     0.10061604385988879,
        //     0.10365480589977134,
        //     0.10144817567167914,
        //     0.09734173335858409,
        //     0.09274376624962825,
        //     0.08880318802397255,
        //     0.08443827862752538,
        //     0.07766982571253733,
        //     0.06290949102413919,
        //     0.051156199195859016,
        //     0.03966004606891997,
        //     0.03015605437361742,
        //     0.023554815332062107,
        //     0.0191747904887778,
        //     0.013276183928893279,
        //     0.00912923396576851,
        //     0.005819565146953443,
        //     0.004128214349275207,
        //     0.0036718639573756536,
        //     0.0034950737504194852,
        //     0.002985476454187301,
        //     0.0018129676325811912,
        //     0.0012868050108287184,
        //     0.0009077691932529392,
        //     0.0005222456180022826,
        //     0.0002047648974706759,
        //     6.214594206722606e-5,
        //     0.00011287484615139223,
        //     0.00019046772982714063,
        //     0.00016835234521245699,
        //     7.676975792930047e-5,
        //     1.805206870461312e-5,
        //     2.1888850127133413e-6,
        //     2.1888850127133413e-6
        //   ]
        // }
      ],
    };

    return (
      <div>
        <Scatter
          data={data}
          width={400}
          height={300}
          options={{
            responsive: true,
            maintainAspectRatio: false,
            tooltips: {
              callbacks: {
                label: function (tooltipItem,) {
                  // let constructType = types[tooltipItem.index];
                  return [
                    `Step response`,
                    `Opening Energy: ${tooltipItem.label}`,
                    `Expression Score: ${tooltipItem.value}`,
                  ];
                },
              },
            },
            legend: false,
            scales: {
              yAxes: [
                {
                  id: "probDensity",
                  type: "linear",
                  ticks: {
                    //beginAtZero: true,
                  },
                  scaleLabel: {
                    display: true,
                    labelString: "Expression Score",
                  },
                },
              ],

              xAxes: [
                {
                  beginAtZero: true,
                  // type: 'category',
                  position: "bottom",
                  display: false,
                },
                {
                  id: "x-axis-2",
                  type: "linear",
                  position: "bottom",
                  display: true,

                  scaleLabel: {
                    display: true,
                    labelString: "Opening energy (kcal/mol)",
                  },

                  ticks: {
                    min: 0,
                    max: 35,
                    stepSize: 2,
                  },
                },
              ],
            },
            annotation: {
              annotations: [
                {
                  type: "line",
                  drawTime: "afterDatasetsDraw",
                  mode: "vertical",
                  scaleID: "x-axis-2",
                  value: this.props.current,
                  borderColor: "rgb(75, 192, 192)",
                  borderWidth: 2,
                  label: {
                    enabled: true,
                    content: "This sequence",
                    position: "bottom",
                  },
                },
                {
                  type: "line",
                  drawTime: "afterDatasetsDraw",
                  mode: "vertical",
                  scaleID: "x-axis-2",
                  value: this.props.selected,
                  borderColor: "rgba(75, 192, 192, 0.8)",
                  borderWidth: 2,
                  label: {
                    enabled: true,
                    content: "Top optimised",
                    position: "center",
                  },
                },
                {
                  type: "line",
                  drawTime: "afterDatasetsDraw",
                  mode: "vertical",
                  scaleID: "x-axis-2",
                  value: this.props.input,
                  borderColor: "rgb(75, 192, 192, 0.8)",
                  borderWidth: 2,
                  label: {
                    enabled: true,
                    content: "Input",
                    position: "top",
                  },
                },
                {
                  type: "line",
                  drawTime: "afterDatasetsDraw",
                  mode: "vertical",
                  scaleID: "x-axis-2",
                  value: this.props.target,
                  borderColor: "rgb(75, 192, 192, 0.8)",
                  borderWidth: 2,
                  label: {
                    enabled: true,
                    content: "Target",
                    position: "center",
                  },
                },
              ],
            },
          }}
        />
      </div>
    );
  }
}

export default Chart;
